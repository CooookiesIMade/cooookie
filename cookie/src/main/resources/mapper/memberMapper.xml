<<<<<<< HEAD
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
		PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
		"https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.cookie.repository.MemberMapper">
	<insert id="saveMember">
		insert into member(
			member_id,
			member_pw,
			member_nick,
			member_pho,
			member_mbti,
			member_date
		) values (
			#{member_id},
			#{member_pw},
			#{member_nick},
			#{member_pho},
			#{member_mbti},
			SYSDATE
		)
	</insert>
	
	<select id="findMember" resultType="member">
		select * from member where member_id = #{member_id}
	</select>
	
	<select id="findRentPlaces" resultType="rentPlace">
		select 
			r.rentPlace_id,
			r.member_id,
			s.place_id,
			s.place_name,
			s.place_address,
			r.rentPlace_start,
			r.rentPlace_end,
			r.rentPlace_count,
			r.rentPlace_price,
			s.saved_filename
		 from 
		 	rentPlace r join splace s
		 	on (r.place_id = s.place_id)
		where 
			r.member_id = #{member_id}
		order by
			rentPlace_id desc
	</select>
	
	
	
	
	
	
	
	
	
	
	
	
	<!-- 저장된 멤버 업데이트 -->
    <update id="updateMember" parameterType="com.example.cookie.model.member.Member">
        UPDATE cooookie.member
        SET
            member_pw = #{member_pw},
            member_nick = #{member_nick},
            member_pho = #{member_pho},
            member_mbti = #{member_mbti}
        WHERE
            member_id = #{member_id}
    </update>
    
    
   
=======
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
		PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
		"https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.cookie.repository.MemberMapper">
	<insert id="saveMember">
		insert into member(
			member_id,
			member_pw,
			member_nick,
			member_pho,
			member_mbti,
			member_date,
			saved_filename
		) values (
			#{member_id},
			#{member_pw},
			#{member_nick},
			#{member_pho},
			#{member_mbti},
			SYSDATE,
			#{saved_filename}
		)
	</insert>
	
	<select id="findMember" resultType="member">
		select * from member where member_id = #{member_id}
	</select>
	
	<select id="findRentPlaces" resultType="rentPlace">
		select 
			r.rentPlace_id,
			r.member_id,
			s.place_id,
			s.place_name,
			s.place_address,
			r.rentPlace_start,
			r.rentPlace_end,
			r.rentPlace_count,
			r.rentPlace_price,
			s.saved_filename
		 from 
		 	rentPlace r join splace s
		 	on (r.place_id = s.place_id)
		where 
			r.member_id = #{member_id}
		order by
			rentPlace_id desc
	</select>
	
	
	<insert id="saveFile" parameterType="file">
		<selectKey keyProperty="attachedfile_id" resultType="long" order="BEFORE">
			select seq_sperson.nextval from dual
		</selectKey>
			insert into attached_file(
				attachedfile_id,
				original_filename,
				saved_filename,
				file_size
			) values(
				#{attachedfile_id},
				#{original_filename},
				#{saved_filename},
				#{file_size}
			)
	</insert>
	
	
	
	
	
	
	
	
	
	<!-- 저장된 멤버 업데이트 -->
    <update id="updateMember" parameterType="com.example.cookie.model.member.Member">
        UPDATE cooookie.member
        SET
            member_pw = #{member_pw},
            member_nick = #{member_nick},
            member_pho = #{member_pho},
            member_mbti = #{member_mbti}
        WHERE
            member_id = #{member_id}
    </update>
    
    
   
>>>>>>> branch 'Review' of https://github.com/CooookiesIMade/cooookie.git
</mapper>