<<<<<<< HEAD
<!DOCTYPE html>
<html>

<head th:replace="~{head :: #head}"></head>

<head th:replace="~{header :: #header}"></head>

<link rel="stylesheet" href="/css/detail.css" />
<style>
	.hide {
		display: none;
	}
	.show {
		display: block;
	}
</style>
<script>
	$(document).ready(function () {
		let start = $(".first-date");
		let end = $(".end-date");
		let date = new Date(new Date().getTime() - new Date().getTimezoneOffset() * 60000).toISOString().slice(0, -8);
		let price = $(".totalprice").attr("value") // span 태그는 value속성없어서 속성으로 가져와야함
		start.val(date);
		start.attr("min", date);

		$('.end-date').change(function () {
			if (new Date(start.val()) >= new Date(end.val())) {
				$(".end-date").val("");
			}
		});

		$('.end-date').change(function () {
			let startDate = new Date(start.val());
			let endDate = new Date(end.val());
			let rentHour = (endDate - startDate) / (1000 * 60 * 60);
			let totalPrice = price * rentHour
			$(".totalprice").text(totalPrice);
			$(".totaltime").text(rentHour + '시간');
		});

	});
</script>
<style>
	.totaltime {
		margin-right: 140px;
		text-align: right;
	}
</style>

<body>
	<div th:replace="header" />
	<section>
		<div class="product_container" th:object="${sPerson}">
			<div class="product_imgbox">
				<img class="personImg2" th:src="@{'/images/upload/' + ${sPerson.saved_filename}}" alt="이미지입니당">
			
			</div>
			<div class="sticky-parent">
			<div class="product_detail">
				<div class="product_caption">
					<div th:text="*{person_name}"></div>
					<h3 style="margin-top:10px;" th:text="*{member_nick}"><h3>
					
				</div>
				<div class="product_option">
					<div class="form-group">
						<label>시작일시</label>
						<span>
							<input type="datetime-local" placeholder="날짜를 선택해주세요" required class="first-date" onchange="setMinValue()">
						</span>
					</div>
					<div class="form-group">
						<label>반납일시</label>
						<span>
							<input type="datetime-local" placeholder="날짜를 선택해주세요" required class="end-date">
						</span>
					</div>
				</div>
				<form action="" method="POST" id="buyform" onsubmit="return sendorder()"> <!-- 상품명, 색상, 수량 데이터 전송 -->
					<input type="hidden" class="price" value="35000"> <!-- 상품 1개의 가격이다(jquery에서 가격을 뽑기위해 선언)-->
					<input type="hidden" name="item_idx" value="1"> <!-- 넘어갈 데이터 -->
					<input type="hidden" name="itemlist">
					<input type="hidden" name="where" value="product"> <!-- 현재 넘어가는 정보는 product 페이지에서 넘어간다 -->
					<input type="hidden" />
					<div class="formbtn_box">
						<input type="submit" class="buynowbtn formbtn" formaction="#바로구매"
							th:formaction="@{/main/payment}" value="지금 예약 요청하기">
					</div>
				</form>
				<div class="sns_talk">
					<button class="naver_talk">질문하기</button>
				</div>
			</div>
		</div>
		</div>
	</section>
		<div class="product_content">
			<h3 class="detailInfo">상세정보</h3>
			<p class="category" th:text="${sPerson.person_category}"></p>
			<p class="detail_content" th:text="${sPerson.person_content}"></p>
		</div>
</body>
=======
<!DOCTYPE html>
<html>

<head th:replace="~{head :: #head}"></head>

<head th:replace="~{header :: #header}"></head>

<link rel="stylesheet" href="/css/detail.css" />
<style>
	.hide {
		display: none;
	}
	.show {
		display: block;
	}
</style>
<script>
	$(document).ready(function () {
		let start = $(".first-date");
		let end = $(".end-date");
		let date = new Date(new Date().getTime() - new Date().getTimezoneOffset() * 60000).toISOString().slice(0, -8);
		let price = $(".totalprice").attr("value") // span 태그는 value속성없어서 속성으로 가져와야함
		start.val(date);
		start.attr("min", date);

		$('.end-date').change(function () {
			if (new Date(start.val()) >= new Date(end.val())) {
				$(".end-date").val("");
			}
		});

		$('.end-date').change(function () {
			let startDate = new Date(start.val());
			let endDate = new Date(end.val());
			let rentHour = (endDate - startDate) / (1000 * 60 * 60);
			let totalPrice = price * rentHour
			$(".totalprice").text(totalPrice);
			$(".totaltime").text(rentHour + '시간');
		});

	});
</script>
<style>
	.totaltime {
		margin-right: 140px;
		text-align: right;
	}
</style>

<body>
	<div th:replace="header" />
	<section>
		<div class="product_container" th:object="${sPerson}">
			<div class="product_imgbox">
				<img class="personImg2" th:src="@{'/images/upload/' + ${sPerson.saved_filename}}" alt="이미지입니당">
			
			</div>
			<div class="sticky-parent">
			<div class="product_detail">
				<div class="product_caption">
					<div th:text="*{person_name}"></div>
					<h3 style="margin-top:10px;" th:text="*{member_nick}"><h3>
					
				</div>
				<div class="product_option">
					<div class="form-group">
						<label>시작일시</label>
						<span>
							<input type="datetime-local" placeholder="날짜를 선택해주세요" required class="first-date" onchange="setMinValue()">
						</span>
					</div>
					<div class="form-group">
						<label>반납일시</label>
						<span>
							<input type="datetime-local" placeholder="날짜를 선택해주세요" required class="end-date">
						</span>
					</div>
				</div>
				<form action="" method="POST" id="buyform" onsubmit="return sendorder()"> <!-- 상품명, 색상, 수량 데이터 전송 -->
					<input type="hidden" class="price" value="35000"> <!-- 상품 1개의 가격이다(jquery에서 가격을 뽑기위해 선언)-->
					<input type="hidden" name="item_idx" value="1"> <!-- 넘어갈 데이터 -->
					<input type="hidden" name="itemlist">
					<input type="hidden" name="where" value="product"> <!-- 현재 넘어가는 정보는 product 페이지에서 넘어간다 -->
					<input type="hidden" />
					<div class="formbtn_box">
						<input type="submit" class="buynowbtn formbtn" formaction="#바로구매"
							th:formaction="@{/main/payment}" value="지금 예약 요청하기">
					</div>
				</form>
				<div class="sns_talk">
					<button class="naver_talk">질문하기</button>
				</div>
			</div>
		</div>
		</div>
	</section>
		<div class="product_content1">
			<h3 class="detailInfo">상세정보</h3>
			<p class="category" th:text="${sPerson.person_category}"></p>
			<p class="detail_content" th:text="${sPerson.person_content}"></p>
		</div>
</body>
>>>>>>> branch 'Review' of https://github.com/CooookiesIMade/cooookie.git
</html>